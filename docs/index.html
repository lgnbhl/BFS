<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Search and Download Data from the Swiss Federal Statistical Office (BFS) • BFS</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Search and Download Data from the Swiss Federal Statistical Office (BFS)">
<meta property="og:description" content="Search and download data from the Swiss Federal Statistical Office &lt;https://www.bfs.admin.ch/&gt;.">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-158089797-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-158089797-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">BFS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://www.linkedin.com/in/felixluginbuhl">
    <span class="fa fa-linkedin"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/FelixLuginbuhl">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/lgnbhl/BFS">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="http://felixluginbuhl.com">
    <span class="fa fa-home"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div id="bfs-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#bfs-" class="anchor"></a>BFS <img src="reference/figures/logo.png" align="right">
</h1></div>
<blockquote>
<p>Search and download data from the Swiss Federal Statistical Office</p>
</blockquote>
<p>The <code>BFS</code> package allows to search and download public data from the <a href="https://www.bfs.admin.ch/bfs/en/home/statistics/catalogues-databases/data.html">Swiss Federal Statistical Office (BFS)</a> in a dynamic and reproducible way.</p>
<p><span class="emoji" data-emoji="warning">⚠️</span><span class="emoji" data-emoji="warning">⚠️</span><span class="emoji" data-emoji="warning">⚠️</span> <strong>the bfs_get_data() function is sometimes not working on Windows</strong> <span class="emoji" data-emoji="warning">⚠️</span><span class="emoji" data-emoji="warning">⚠️</span><span class="emoji" data-emoji="warning">⚠️</span></p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="co"># Install the released version from CRAN</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"BFS"</span><span class="op">)</span></pre></div>
<p>To get a bug fix, or use a feature from the development version, you can install BFS from GitHub.</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="co"># install from Github</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"lgnbhl/BFS"</span><span class="op">)</span></pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://felixluginbuhl.com/BFS">BFS</a></span><span class="op">)</span></pre></div>
<div id="download-metadata" class="section level3">
<h3 class="hasAnchor">
<a href="#download-metadata" class="anchor"></a>Download metadata</h3>
<p>To search and download data from the Swiss Federal Statistical Office, you first need to retrieve information about the available public data sets. The function <code><a href="reference/bfs_get_metadata.html">bfs_get_metadata()</a></code> returns a data frame/tibble containing the titles, publication dates, observation periods, data sources, website URLs and download URLs of all the BFS data sets available in a given language. You can get the metadata in German (“de”, by default), French (“fr”), Italian (“it”) or English (“en”). Note that Italian and English metadata give access to less data sets.</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="va">meta_en</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/bfs_get_metadata.html">bfs_get_metadata</a></span><span class="op">(</span>language <span class="op">=</span> <span class="st">"en"</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">meta_en</span><span class="op">)</span></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co">## # A tibble: 6 x 6</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co">##   title         observation_period  published  source  url_bfs       url_px     </span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co">##   &lt;chr&gt;         &lt;chr&gt;               &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;      </span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">## 1 Retail Trade~ 1.1.2000-30.11.2020 07.01.2021 Federa~ https://www.~ https://ww~</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">## 2 Retail Trade~ 1.1.2000-30.11.2020 07.01.2021 Federa~ https://www.~ https://ww~</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">## 3 New registra~ 1.1.2019-30.11.201~ 14.12.2020 Federa~ https://www.~ https://ww~</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co">## 4 Environmenta~ 2000-2019           08.12.2020 Federa~ https://www.~ https://ww~</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co">## 5 Hotel accomm~ 1.1.2005-31.10.2020 07.12.2020 Federa~ https://www.~ https://ww~</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="co">## 6 Hotel accomm~ 1.1.2005-31.10.2020 07.12.2020 Federa~ https://www.~ https://ww~</span></span></code></pre></div>
<p>Using the development version on Github, you can also get the catalog data by language. The new function <code><a href="reference/bfs_get_catalog.html">bfs_get_catalog()</a></code> get the metadata based on the new RSS feed provided by the Swiss Federal Statistical Office. Note that the number of datasets available may differ from the output of the <code><a href="reference/bfs_get_metadata.html">bfs_get_metadata()</a></code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="va">catalog_en</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/bfs_get_catalog.html">bfs_get_catalog</a></span><span class="op">(</span>language <span class="op">=</span> <span class="st">"en"</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">catalog_en</span><span class="op">)</span> </pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co">## # A tibble: 6 x 5</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="co">##   title            language published           url_bfs           url_px        </span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co">##   &lt;chr&gt;            &lt;chr&gt;    &lt;dttm&gt;              &lt;chr&gt;             &lt;chr&gt;         </span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co">## 1 Retail Trade Tu~ en       2021-01-07 08:30:00 https://www.bfs.~ https://www.b~</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="co">## 2 Retail Trade Tu~ en       2021-01-07 08:30:00 https://www.bfs.~ https://www.b~</span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="co">## 3 New registratio~ en       2020-12-14 08:30:00 https://www.bfs.~ https://www.b~</span></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co">## 4 Environmental g~ en       2020-12-08 08:30:00 https://www.bfs.~ https://www.b~</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="co">## 5 Hotel accommoda~ en       2020-12-07 08:30:00 https://www.bfs.~ https://www.b~</span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="co">## 6 Hotel accommoda~ en       2020-12-07 08:30:00 https://www.bfs.~ https://www.b~</span></span></code></pre></div>
</div>
<div id="search-for-data" class="section level3">
<h3 class="hasAnchor">
<a href="#search-for-data" class="anchor"></a>Search for data</h3>
<p>To search for a specific data set title in the BFS metadata, you can use the <code><a href="reference/bfs_search.html">bfs_search()</a></code> function. This function leverages the R base function <code><a href="https://rdrr.io/r/base/grep.html">grepl()</a></code> but calls the <code>data</code> argument first to allow the use of the pipe operator <code><a href="reference/%&gt;%.html">%&gt;%</a></code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org">magrittr</a></span><span class="op">)</span>

<span class="va">meta_en_uni</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/bfs_get_metadata.html">bfs_get_metadata</a></span><span class="op">(</span><span class="st">"en"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/bfs_search.html">bfs_search</a></span><span class="op">(</span><span class="st">"university students"</span><span class="op">)</span></pre></div>
</div>
<div id="download-data-set" class="section level3">
<h3 class="hasAnchor">
<a href="#download-data-set" class="anchor"></a>Download data set</h3>
<p>To download a BFS data set, add the related URL link from the <code>url_px</code> column of the downloaded metadata as an argument to the <code>bfs_get_data set()</code> function. You can choose the language (German, French, Italian or English if any) in which the data set is downloaded with the <code>language</code> argument.</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="va">df_uni</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/bfs_get_dataset.html">bfs_get_dataset</a></span><span class="op">(</span>url_px <span class="op">=</span> <span class="va">meta_en_uni</span><span class="op">$</span><span class="va">url_px</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, language <span class="op">=</span> <span class="st">"en"</span><span class="op">)</span></pre></div>
<p>You can access additional information about the downloaded data set using the R base <code><a href="https://rdrr.io/r/base/attributes.html">attributes()</a></code> function.</p>
<div class="sourceCode" id="cb10"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span><span class="op">(</span><span class="va">df_uni</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="op">)</span></pre></div>
<p>In case the function fails to download the data set, you can have a look at its related BFS webpage using the <code>url_bfs</code> link.</p>
<div class="sourceCode" id="cb11"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/browseURL.html">browseURL</a></span><span class="op">(</span><span class="va">meta_en_uni</span><span class="op">$</span><span class="va">url_bfs</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="co"># open webpage</span></pre></div>
<p>Sometimes the PC-Axis file of the data set doesn’t exist. You should then use the “STAT-TAB - interactive table” service provided by BFS to download manually the data set.</p>
</div>
<div id="data-caching" class="section level3">
<h3 class="hasAnchor">
<a href="#data-caching" class="anchor"></a>Data caching</h3>
<p>Data caching is handled using the <a href="https://pins.rstudio.com/">pins</a> R package. To open the folder containing all the BFS data sets you already downloaded, you can use the <code><a href="reference/bfs_open_dir.html">bfs_open_dir()</a></code> function.</p>
<div class="sourceCode" id="cb12"><pre class="downlit">
<span class="fu"><a href="reference/bfs_open_dir.html">bfs_open_dir</a></span><span class="op">(</span><span class="op">)</span></pre></div>
<p>If a data set has already been downloaded during the day, the functions <code><a href="reference/bfs_get_metadata.html">bfs_get_metadata()</a></code> and <code>bfs_get_data set()</code> retrieve the already downloaded data sets from your local pins caching folder. Caching speeds up code and reduces BFS server requests. However, if a given data set has not been downloaded during the day, the functions download it again to be sure that you have the lastest data available. You can also force the download using the <code>force</code> argument.</p>
</div>
</div>
<div id="other-information" class="section level2">
<h2 class="hasAnchor">
<a href="#other-information" class="anchor"></a>Other information</h2>
<p>A <a href="https://felixluginbuhl.com/blog/2019/11/07/swiss-data">blog article</a> showing a concret example about how to use the BFS package.</p>
<p>Alternative R package: <a href="https://github.com/rOpenGov/pxweb">pxweb</a>.</p>
<p>This package is in no way officially related to or endorsed by the Swiss Federal Statistical Office (BFS).</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=BFS">https://​cloud.r-project.org/​package=BFS</a>
</li>
<li>Browse source code at <br><a href="https://github.com/lgnbhl/BFS/">https://​github.com/​lgnbhl/​BFS/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/lgnbhl/BFS/issues">https://​github.com/​lgnbhl/​BFS/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Félix Luginbuhl <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=BFS"><img src="https://www.r-pkg.org/badges/version/BFS" alt="CRAN status"></a></li>
<li><a href="https://cran.r-project.org/package=BFS"><img src="https://cranlogs.r-pkg.org/badges/grand-total/BFS" alt="Grand total"></a></li>
<li><a href="https://gitlab.com/lgnbhl/BFS/pipelines"><img src="https://gitlab.com/lgnbhl/BFS/badges/master/pipeline.svg" alt="pipeline status"></a></li>
<li><a href="https://github.com/lgnbhl/BFS/actions"><img src="https://github.com/lgnbhl/BFS/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Félix Luginbuhl.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
